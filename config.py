# config.py
# Хранит конфигурируемые параметры для приложения, согласно спецификации MVP v1.
# Параметры соответствуют таблице "Основные параметры и конфигурация" (раздел 1).

# Основные параметры приложения
CONFIG = {
    # Стартовый уровень для новых пользователей
    "STARTING_LEVEL": "A2",  # Начальная сложность слов (difficulty=2)

    # Размер сессии
    "SESSION_SIZE": 7,  # Количество слов в одной сессии

    # Временной карантин
    "QUARANTINE_MINUTES": 5,  # Запрет повторять слово (кроме Weak) в течение 5 минут

    # Длинный перерыв
    "LONG_BREAK_DAYS": 14,  # Перерыв > 14 дней: заморозка уровня на 2 сессии

    # Вес сессий для Weighted Success Rate (WSR)
    "WSR_WEIGHTS": [3, 2, 1],  # Вес последних трёх сессий (S₀×3 + S₁×2 + S₂×1)

    # Пороги для пересчёта уровня
    "LEVEL_UP_THRESHOLD": 85,  # WSR ≥ 85% для повышения уровня
    "LEVEL_DOWN_THRESHOLD": 55,  # WSR < 55% для понижения уровня (min A1)

    # Максимальное количество новых слов в сессии
    "MAX_NEW_WORDS": 3,  # Лимит New-L в Main-bucket + Adaptive

    # Порог для блокировки новых слов
    "NEW_WORDS_SUCCESS_THRESHOLD": 60,  # recent_success_rate < 60% → New-L заменяются Review

    # Пауза для новых слов после первого показа
    "NEW_WORD_PAUSE_MINUTES": 30,  # Новое слово не становится Weak в течение 30 минут

    # Порог для Adaptive-слота
    "ADAPTIVE_SUCCESS_THRESHOLD": 75,  # recent_success_rate ≥ 75% → Stretch+1, иначе Weak/Patch/New-L
}

# Словарь для преобразования уровня в difficulty
LEVEL_TO_DIFFICULTY = {
    "A1": 1,
    "A2": 2,
    "B1": 3,
    "B2": 4,
    "C1": 5,
    "C2": 6
}

# Список уровней для проверки границ (A1 min, C2 max)
LEVEL_ORDER = ["A1", "A2", "B1", "B2", "C1", "C2"]
